<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Preview | Electrode</title>
  <meta name="viewport" content="width=device-width">
  <meta property="og:title" content="Preview | Electrode">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://electrode-io.github.io//docs/preview.html">
  <meta property="og:image" content="https://electrode-io.github.io/img/logo_og.png">
  <meta property="og:description" content="Universal React and Node Applications simplified, performant, and reusable.">
  <meta property="fb:app_id" content="623268441017527">

  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="alternate" type="application/rss+xml" title="Electrode" href="https://electrode-io.github.io/feed.xml">

  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/electrode.css">

  <script src="//use.typekit.net/vqa1hcx.js"></script>
  <script>try{Typekit.load();}catch(e){}</script>

  <!--[if lte IE 8]>
  <script src="/js/html5shiv.min.js"></script>
  <script src="/js/es5-shim.min.js"></script>
  <script src="/js/es5-sham.min.js"></script>
  <![endif]-->

</head>
<body>

  <div class="container">

    <div class="nav-main">
      <div class="wrap">
        <a class="nav-home" href="/index.html">
          <img class="nav-logo" src="/img/electrode-02.png" width="45" height="45" style="margin-bottom: 5px;">
          Electrode
        </a>
        <ul class="nav-site nav-site-internal">
          <li><a href="/docs/what_is_electrode.html" class="active">Docs</a></li>
          <!--<li><a href="/support.html">Support</a></li>-->
        </ul>

        <ul class="nav-site nav-site-external">
          <li><a href="https://github.com/electrode-io">GitHub</a></li>
          <li><a href="http://walmartlabs.com">WalmartLabs</a></li>
        </ul>
      </div>
    </div>

    

    <section class="content wrap documentationContent">
  <div class="nav-docs">
  
    <div class="nav-docs-section">
      <h3>Overview</h3>
      
        <ul>
          


  
  
  
  
    <li>
    

    <a href="/docs/what_is_electrode.html">What is Electrode?</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/why_use_electrode.html">Why Use Electrode?</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/get_started.html">Get Started</a>

    
    </li>
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  


        </ul>
      
    </div>
  
    <div class="nav-docs-section">
      <h3>Getting Started</h3>
      
        
          <h5>Quick Start</h5>
          <ul>
            


  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  
    <li>
    

    <a href="/docs/requirements.html">Requirements</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/quick_guide.html">Quick Guide</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/build_more.html">Build More + Deploy</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/explore.html">Explore More</a>

    
    </li>
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  


          </ul>
        
          <h5>Intermediate</h5>
          <ul>
            


  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  
    <li>
    

    <a href="/docs/create_standalone_component.html">Create a Standalone Component</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/build_server_plugin.html">Build a Server Plugin</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/add_routes.html">Add Routes</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/server_config.html">Server Config</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/more_deployments.html">More Deployments</a>

    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/azure.html">Azure</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/docker.html">Docker</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/kubernetes.html">Kubernetes</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  


          </ul>
        
          <h5>Advanced</h5>
          <ul>
            


  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  
    <li>
    

    <a href="/docs/stand_alone_modules.html">Stand Alone Modules</a>

    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/confippet.html">Confippet</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/above_fold_rendering.html">Above The Fold Rendering</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/server_side_render_cache.html">Server Side Render Caching + Profiling</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/stateless_csrf_validation.html">Stateless CSRF Validation</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/electrode_tools.html">Powerful Electrode Tools</a>

    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/electrify.html">Electrify</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/electrode_explorer.html">Electrode Explorer</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/community.html">Community</a>

    
    </li>
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  


          </ul>
        
      
    </div>
  
    <div class="nav-docs-section">
      <h3>Resources</h3>
      
        <ul>
          


  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  
    <li>
    

    <a href="/docs/faq.html">FAQs</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/glossary.html">Glossary</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/further_reading.html">Further Reading</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/build_with_us.html">Build With Us</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/preview.html" class="active">Preview</a>

    
    </li>
  


        </ul>
      
    </div>
  


  <!-- Tips Nav -->
  
    <div class="nav-docs-section">
      <h3>Tips</h3>
      <ul>
        
          <li>
            <a href="/tips/introduction.html">Introduction</a>
          </li>
        
      </ul>
    </div>
  

  <!-- Contributing Nav -->
  
    <div class="nav-docs-section">
      <h3>Contributing</h3>
      <ul>
        
          <li>
            <a href="/contributing/design-principles.html">Design Principles</a>
          </li>
        
      </ul>
    </div>
  
</div>


  <div class="inner-content">
    <a class="edit-page-link" href="https://github.com/electrode-io/electrode-io.github.io/tree/develop/_docs/05.5-preview.markdown" target="_blank">Edit on GitHub</a>
    <h1>
      Preview
    </h1>
    <div class="subHeader"></div>

    <h1><a class="anchor" name="electrode-boilerplate-universal-react-node"></a>Electrode Boilerplate Universal React Node <a class="hash-link" href="#electrode-boilerplate-universal-react-node">#</a></h1>
<ul>
<li>This repo is a sample Electrode app with the following Electrode modules:

<ul>
<li><a href="https://github.com/electrode-io/electrode-confippet">Electrode Confippet</a></li>
<li><a href="https://github.com/electrode-io/electrode-csrf-jwt">Electrode CSRF JWT</a></li>
<li><a href="https://github.com/electrode-io/electrify">Electrode Javascript Bundle Viewer</a></li>
<li><a href="https://github.com/electrode-io/electrode-redux-router-engine">Electrode Redux Router Engine</a></li>
<li><a href="https://github.com/electrode-io/above-the-fold-only-server-render">Electrode Above the Fold Rendering</a></li>
</ul></li>
</ul>
<h2><a class="anchor" name="install"></a>Install <a class="hash-link" href="#install">#</a></h2><div class="highlight"><pre><code class="language-bash" data-lang="bash">git clone https://github.com/electrode-io/electrode-boilerplate-universal-react-node.git
<span class="nb">cd </span>hapiApp
npm install
</code></pre></div><h2><a class="anchor" name="run"></a>Run <a class="hash-link" href="#run">#</a></h2>
<ul>
<li>Start the electrode app in <code>development</code> environment:</li>
</ul>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ NODE_ENV</span><span class="o">=</span>development gulp hot
</code></pre></div>
<ul>
<li>Start the electrode app in <code>production</code> environment:</li>
</ul>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ NODE_ENV</span><span class="o">=</span>production gulp hot
</code></pre></div>
<ul>
<li>Running in the selected environment should load the appropriate configuration settings</li>
</ul>
<h2><a class="anchor" name="instructions"></a>Instructions <a class="hash-link" href="#instructions">#</a></h2>
<ul>
<li>You can build the app from scratch by following the instructions below:

<ul>
<li><a href="#electrode-confippet">Electrode Confippet</a></li>
<li><a href="#csrf-jwt">Electrode CSRF JWT</a></li>
<li><a href="#bundle-viewer">Electrode Javascript Bundle Viewer</a></li>
<li><a href="#redux-router-engine">Electrode Redux Router Engine</a></li>
</ul></li>
</ul>

<hr>
<h2><a class="anchor" name="electrode-confippet"></a><a name="electrode-confippet"></a>Electrode Confippet <a class="hash-link" href="#electrode-confippet">#</a></h2>
<ul>
<li><a href="https://github.com/electrode-io/electrode-confippet">Confippet</a> is a versatile utility for managing your NodeJS application configuration. Its goal is customization and extensibility, but offers a preset config out of the box.</li>
<li>Scaffold an electrode app using the following commands:</li>
</ul>
<h3><a class="anchor" name="install"></a>Install <a class="hash-link" href="#install">#</a></h3><div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install -g yo
npm install -g generator-electrode
yo electrode
</code></pre></div><h4><a class="anchor" name="config"></a>Config <a class="hash-link" href="#config">#</a></h4>
<ul>
<li>Once the scaffolding is complete, open the following config files:</li>
</ul>
<div class="highlight"><pre><code class="language-text" data-lang="text">config
|_ default.json
|_ development.json
|_ production.json
</code></pre></div><h4><a class="anchor" name="development-environment"></a>Development environment <a class="hash-link" href="#development-environment">#</a></h4>
<ul>
<li>Update the <code>config/development.json</code> to have the following settings:</li>
</ul>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&quot;server&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;connections&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;compression&quot;</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">},</span>
    <span class="nt">&quot;debug&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;log&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">],</span>
      <span class="nt">&quot;request&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;connections&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;port&quot;</span><span class="p">:</span> <span class="mi">3000</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>The above settings should show server log errors that may be beneficial for debugging, disable content encoding, and run the server in port 3000</li>
</ul>
<h4><a class="anchor" name="production-environment"></a>Production environment <a class="hash-link" href="#production-environment">#</a></h4>
<ul>
<li>Update the <code>config/production.json</code> to have the following settings:</li>
</ul>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&quot;server&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;connections&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;compression&quot;</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">},</span>
    <span class="nt">&quot;debug&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;log&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nt">&quot;request&quot;</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;connections&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;port&quot;</span><span class="p">:</span> <span class="mi">8000</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>The above settings should disable server log errors, enable content encoding, and run the server in port 8000</li>
<li>The <code>server</code> key related configs are from hapi.js. More config options can be found here: http://hapijs.com/api</li>
<li>The <code>connections</code> key are electrode server specific: https://github.com/electrode-io/electrode-server/tree/master/lib/config</li>
<li>Keys that exist in the <code>config/default.json</code> that are also in the other environment configs will be replaced by the environment specific versions</li>
</ul>
<h4><a class="anchor" name="require"></a>Require <a class="hash-link" href="#require">#</a></h4>
<ul>
<li>In Electrode, the configurations are loaded from <code>server/index.js</code> at this line:</li>
</ul>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">config</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;electrode-confippet&quot;</span><span class="p">).</span><span class="nx">config</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">staticPathsDecor</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;electrode-static-paths&quot;</span><span class="p">);</span>

<span class="nx">require</span><span class="p">(</span><span class="s2">&quot;electrode-server&quot;</span><span class="p">)(</span><span class="nx">config</span><span class="p">,</span> <span class="p">[</span><span class="nx">staticPathsDecor</span><span class="p">()]);</span>
</code></pre></div><h4><a class="anchor" name="run"></a>Run <a class="hash-link" href="#run">#</a></h4>
<ul>
<li>Start the electrode app in <code>development</code> environment:</li>
</ul>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ NODE_ENV</span><span class="o">=</span>development gulp hot
</code></pre></div>
<ul>
<li>Start the electrode app in <code>production</code> environment:</li>
</ul>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ NODE_ENV</span><span class="o">=</span>production gulp hot
</code></pre></div>
<ul>
<li>Running in the selected environment should load the appropriate configuration settings</li>
</ul>

<hr>
<h2><a class="anchor" name="electrode-csrf-jwt"></a><a name="csrf-jwt"></a>Electrode CSRF-JWT <a class="hash-link" href="#electrode-csrf-jwt">#</a></h2>
<p><a href="https://github.com/electrode-io/electrode-csrf-jwt">CSRF-JWT</a> is an Electrode plugin that allows you to authenticate HTTP requests using JWT in your Electrode applications.</p>
<h3><a class="anchor" name="install"></a>Install <a class="hash-link" href="#install">#</a></h3>
<ul>
<li>Add the <code>electrode-csrf-jwt</code> component:</li>
</ul>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install electrode-csrf-jwt --save
</code></pre></div>
<ul>
<li>Next, register the plugin with the Electrode server. Add the following configuration to the <code>plugins</code> section of <code>config/default.json</code>:</li>
</ul>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="s2">&quot;electrode-csrf-jwt&quot;</span><span class="err">:</span> <span class="p">{</span>
  <span class="nt">&quot;options&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;secret&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="nt">&quot;expiresIn&quot;</span><span class="p">:</span> <span class="mi">60</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>That&#39;s it! CSRF protection will be automatically enabled for endpoints added to the app. CSRF JWT tokens will be returned in the headers and set as cookies for every response and must be provided as both a header and a cookie in every <code>POST</code> request.</p>

<blockquote>
<p>You can read more about options and usage details on <a href="https://github.com/electrode-io/electrode-csrf-jwt#usage">the component&#39;s README page</a></p>
</blockquote>
<h3><a class="anchor" name="csrf-jwt-demonstration-code"></a>CSRF-JWT Demonstration code <a class="hash-link" href="#csrf-jwt-demonstration-code">#</a></h3>
<p>In addition to the above steps, the following modifications were made in order to demonstrate functionality:</p>

<ul>
<li>A plugin with two endpoints was added as <code>server/plugins/csrf.js</code> and registered via <code>config/default.json</code></li>
<li>AJAX testing logic was added to <code>client/components/csrf.jsx</code></li>
</ul>

<hr>
<h2><a class="anchor" name="electrode-javascript-bundle-viewer---how-to-useintegrate-guide"></a><a name="bundle-viewer"></a>Electrode Javascript Bundle Viewer - How to use/integrate guide <a class="hash-link" href="#electrode-javascript-bundle-viewer---how-to-useintegrate-guide">#</a></h2>
<p>Electrode Javascript bundle viewer is named <a href="https://github.com/electrode-io/electrify">electrify</a>, it is a tool that helps for analyzing the module tree of webpack based projects. It&#39;s especially handy for catching large and/or duplicate modules which might be either bloating up your bundle or slowing down the build/install process.</p>
<h4><a class="anchor" name="integration-points-in-your-app"></a>Integration points in your app <a class="hash-link" href="#integration-points-in-your-app">#</a></h4>
<ul>
<li>use <a href="https://github.com/electrode-io/electrode-archetype-react-app">electrode-archetype-react-app</a> which is already integrated with <a href="https://github.com/electrode-io/electrify">electrify</a> and part of <a href="https://github.com/electrode-io/electrode-boilerplate-universal-react-node">electrode-boilerplate-universal-react-node</a>, all you have to do is run <strong>gulp electrify</strong> after installing <a href="https://github.com/electrode-io/electrode-archetype-react-app">electrode-archetype-react-app</a> in your app.</li>
<li><a href="https://github.com/electrode-io/electrify">electrify</a> dependency <code>sudo npm install -g electrode-electrify
</code> and npm task runner integration.</li>
<li><a href="https://github.com/electrode-io/electrify">electrify</a> command line interface (CLI) <code>electrify &lt;path-to-stats.json&gt; --open</code>.</li>
</ul>

<p><code>electrode-boilerplate-universal-react-node</code> &amp; <a href="https://github.com/electrode-io/generator-electrode">electrode-scaffolder</a> internally use <code>electrode-archetype-react-app</code> hence <code>gulp electrify</code> on your terminal will start the bundle viewer in the browser.</p>

<p>When you install electrify globally using <code>sudo npm install -g electrode-electrify</code>, <code>electrify</code> command-line tool is made available as the quickest means of checking out your bundle. As of <code>electrode-electrify v1.0.0</code>, the tool takes any <a href="http://webpack.github.io/docs/node.js-api.html#stats-tojson">webpack-stats</a> object as input and starts out a standalone HTML page as output in your browser, all you have to do is type <code>electrify &lt;path to stats.json&gt; --open</code> on your terminal.</p>

<p>Head over to the electrify <a href="https://github.com/electrode-io/electrify#electrify">repository</a> for a detailed view of the bundle viewer and checkout the source-code. <a href="https://github.com/electrode-io/electrify">electrify</a> relies on webpack to generate the application modules/dependency tree and is independent of whichever server framework(hapijs, expressjs, etc.) you choose to use.</p>

<hr>
<h2><a class="anchor" name="electrode-redux-router-engine"></a><a name="redux-router-engine"></a>Electrode Redux Router Engine <a class="hash-link" href="#electrode-redux-router-engine">#</a></h2>
<ul>
<li><a href="https://github.com/electrode-io/electrode-redux-router-engine">Redux Router Engine</a> handles async data for React Server Side Rendering using [react-router], Redux, and the [Redux Server Rendering] pattern.</li>
</ul>
<h3><a class="anchor" name="install"></a>Install <a class="hash-link" href="#install">#</a></h3><div class="highlight"><pre><code class="language-text" data-lang="text">npm install --save electrode-redux-router-engine
</code></pre></div>
<hr>
<h2><a class="anchor" name="electrode-above-the-fold-server-rendering"></a><a name="above-the-fold"></a>Electrode Above the Fold Server Rendering <a class="hash-link" href="#electrode-above-the-fold-server-rendering">#</a></h2>
<p><a href="https://github.com/electrode-io/above-the-fold-only-server-render">Above the Fold Server Rendering</a> is a React component for optionally skipping server side rendering of components outside above-the-fold (or outside of the viewport). This component helps render your components on the server that are above the fold and the remaining components on the client.</p>

<p><a href="https://github.com/electrode-io/above-the-fold-only-server-render">Above-the-fold-only-server-render</a> helps increase performance both by decreasing the load on renderToString and sending the end user a smaller amount of markup.</p>

<p>By default, the <a href="https://github.com/electrode-io/above-the-fold-only-server-render">above-the-fold-only-server-render</a> component is an exercise in simplicity; it does nothing and only returns the child component.</p>
<h3><a class="anchor" name="install"></a>Install <a class="hash-link" href="#install">#</a></h3>
<ul>
<li>Add the <code>above-the-fold-only-server-render</code> component:</li>
</ul>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install above-the-fold-only-server-render --save
</code></pre></div>
<p>You can tell the component to skip server side rendering either by passing a <code>prop</code> <code>skip={true}</code> or by setting up <code>skipServerRender</code> in your app context and passing the component a <code>contextKey</code> <code>prop</code>.</p>

<p>You can skip server side rendering by passing a <code>skip prop</code>, like <code>&lt;your-electrode-app&gt;/components/above-fold-simple.jsx</code>. You can comment out the <code>&lt;AboveTheFoldOnlyServerRender skip={true}&gt;</code> (skip prop) and closing tag to see how the <code>above-the-fold-only-server-render</code> component is working underneath:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">AboveFold</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="c1">//comment out &#39;&lt;AboveTheFoldOnlyServerRender skip={true}&gt;&#39; tags to toggle SSR of this component&#39;</span>
    <span class="o">&lt;</span><span class="nx">AboveTheFoldOnlyServerRender</span> <span class="nx">skip</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">will</span> <span class="nx">not</span> <span class="nx">be</span> <span class="nx">server</span> <span class="nx">side</span> <span class="nx">rendered</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="o">&lt;</span><span class="err">/AboveTheFoldOnlyServerRender&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<p>You can also skip server side rendering by <code>setting context in your app and passing a contextKey prop</code>. Here is an example:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">YourComponent</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">AboveTheFoldOnlyServerRender</span> <span class="nx">contextKey</span><span class="o">=</span><span class="s2">&quot;aboveTheFoldOnlyServerRender.SomeComponent&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">will</span> <span class="nx">not</span> <span class="nx">be</span> <span class="nx">server</span> <span class="nx">side</span> <span class="nx">rendered</span> <span class="nx">based</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">context</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
      <span class="o">&lt;</span><span class="err">/AboveTheFoldOnlyServerRender&gt;</span>
    <span class="p">);</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">YourApp</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">getChildContext</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">aboveTheFoldOnlyServerRender</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">YourComponent</span><span class="o">:</span> <span class="kc">true</span>
      <span class="p">}</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">YourComponent</span> <span class="o">/&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">YourApp</span><span class="p">.</span><span class="nx">childContextTypes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">aboveTheFoldOnlyServerRender</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">shape</span><span class="p">({</span>
    <span class="nx">AnotherComponent</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">bool</span>
  <span class="p">})</span>
<span class="p">};</span>
</code></pre></div>
<p>Navigate to <code>&lt;your-electrode-app&gt;/client/components/above-the-fold.jsx.</code> Following the instructions on how to manipulate the skip prop by directly commenting and uncommenting the <code>above-the-fold-only-server-render</code> <a href="https://github.com/electrode-io/above-the-fold-only-server-render">component</a>.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s2">&quot;react&quot;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">styles</span> <span class="nx">from</span> <span class="s2">&quot;../styles/base.css&quot;</span><span class="p">;</span>

<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AboveFold</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>

  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="c1">// &lt;AboveTheFoldOnlyServerRender skip={true}&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;renderMessage&quot;</span> <span class="nx">style</span><span class="o">=&gt;</span>
          <span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Above</span><span class="o">-</span><span class="nx">the</span><span class="o">-</span><span class="nx">fold</span><span class="o">-</span><span class="nx">only</span><span class="o">-</span><span class="nx">server</span><span class="o">-</span><span class="nx">render</span><span class="o">:</span> <span class="nx">Increase</span> <span class="nx">Your</span> <span class="nx">Performance</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
          <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">will</span> <span class="nx">skip</span> <span class="nx">server</span> <span class="nx">rendering</span> <span class="k">if</span> <span class="nx">the</span> <span class="s1">&#39;AboveTheFoldOnlyServerRender&#39;</span> <span class="nx">lines</span> <span class="nx">are</span> <span class="nx">present</span><span class="p">,</span> <span class="nx">or</span> <span class="nx">uncommented</span> <span class="nx">out</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
          <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">will</span> <span class="nx">be</span> <span class="nx">rendered</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">server</span> <span class="nx">and</span> <span class="nx">visible</span> <span class="k">if</span> <span class="nx">the</span> <span class="s1">&#39;AboveTheFoldOnlyServerRender&#39;</span> <span class="nx">lines</span> <span class="nx">are</span> <span class="nx">commented</span> <span class="nx">out</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
          <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Try</span> <span class="nx">manually</span> <span class="nx">toggling</span> <span class="k">this</span> <span class="nx">component</span> <span class="nx">to</span> <span class="nx">see</span> <span class="nx">it</span> <span class="k">in</span> <span class="nx">action</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
          <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;https://github.com/electrode-io/above-the-fold-only-server-render&quot;</span> <span class="nx">target</span><span class="o">=</span><span class="s2">&quot;_blank&quot;</span><span class="o">&gt;</span><span class="nx">Read</span> <span class="nx">more</span> <span class="nx">about</span> <span class="k">this</span> <span class="nx">module</span> <span class="nx">and</span> <span class="nx">see</span> <span class="nx">our</span> <span class="nx">live</span> <span class="nx">demo</span><span class="o">&lt;</span><span class="err">/a&gt;&lt;/p&gt;</span>
        <span class="o">&lt;</span><span class="err">/div&gt;</span>
      <span class="c1">//  &lt;/AboveTheFoldOnlyServerRender&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

    








<div class="docs-prevnext">
  
    <a class="docs-prev" href="/docs/build_with_us.html">&larr; Prev</a>
  
  
</div>


  </div>
</section>


    <footer class="wrap">
      <div class="left">
        <a href="https://github.com/orgs/electrode-io/people" target="_blank">Acknowledgements</a>
      </div>
      <div class="right">
        &copy; 2016 <a href="http://walmartlabs.com" target="_blank">WalmartLabs</a><br>
        TODO: license.
      </div>
    </footer>
  </div>
  <div id="fb-root"></div>

  <!--
    TODO: analytics js, etc.
  -->
</body>
</html>
