<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Above The Fold Rendering | Electrode</title>
  <meta name="viewport" content="width=device-width">
  <meta property="og:title" content="Above The Fold Rendering | Electrode">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://electrode-io.github.io//docs/above_fold_rendering.html">
  <meta property="og:image" content="https://electrode-io.github.io/img/logo_og.png">
  <meta property="og:description" content="Universal React and Node Applications simplified, performant, and reusable.">
  <meta property="fb:app_id" content="623268441017527">

  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="alternate" type="application/rss+xml" title="Electrode" href="https://electrode-io.github.io/feed.xml">

  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/electrode.css">

  <script src="//use.typekit.net/vqa1hcx.js"></script>
  <script>try{Typekit.load();}catch(e){}</script>

  <!--[if lte IE 8]>
  <script src="/js/html5shiv.min.js"></script>
  <script src="/js/es5-shim.min.js"></script>
  <script src="/js/es5-sham.min.js"></script>
  <![endif]-->

</head>
<body>

  <div class="container">

    <div class="nav-main">
      <div class="wrap">
        <a class="nav-home" href="/index.html">
          <img class="nav-logo" src="/img/electrode-02.png" width="45" height="45" style="margin-bottom: 5px;">
          Electrode
        </a>
        <ul class="nav-site nav-site-internal">
          <li><a href="/docs/what_is_electrode.html" class="active">Docs</a></li>
          <!--<li><a href="/support.html">Support</a></li>-->
        </ul>

        <ul class="nav-site nav-site-external">
          <li><a href="https://github.com/electrode-io">GitHub</a></li>
          <li><a href="http://walmartlabs.com">WalmartLabs</a></li>
        </ul>
      </div>
    </div>

    

    <section class="content wrap documentationContent">
  <div class="nav-docs">
  
    <div class="nav-docs-section">
      <h3>Overview</h3>
      
        <ul>
          


  
  
  
  
    <li>
    

    <a href="/docs/what_is_electrode.html">What is Electrode?</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/why_use_electrode.html">Why Use Electrode?</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/get_started.html">Get Started</a>

    
    </li>
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  


        </ul>
      
    </div>
  
    <div class="nav-docs-section">
      <h3>Getting Started</h3>
      
        
          <h5>Quick Start</h5>
          <ul>
            


  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  
    <li>
    

    <a href="/docs/requirements.html">Requirements</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/quick_guide.html">Quick Guide</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/build_more.html">Build More + Deploy</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/explore.html">Explore More</a>

    
    </li>
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  


          </ul>
        
          <h5>Intermediate</h5>
          <ul>
            


  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  
    <li>
    

    <a href="/docs/create_standalone_component.html">Create a Standalone Component</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/build_server_plugin.html">Build a Server Plugin</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/add_routes.html">Add Routes</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/server_config.html">Server Config</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/more_deployments.html">More Deployments</a>

    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/azure.html">Azure</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/docker.html">Docker</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/kubernetes.html">Kubernetes</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  


          </ul>
        
          <h5>Advanced</h5>
          <ul>
            


  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  
    <li>
    

    <a href="/docs/stand_alone_modules.html">Stand Alone Modules</a>

    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/confippet.html">Confippet</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/above_fold_rendering.html" class="active">Above The Fold Rendering</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/server_side_render_cache.html">Server Side Render Caching + Profiling</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/stateless_csrf_validation.html">Stateless CSRF Validation</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/electrode_tools.html">Powerful Electrode Tools</a>

    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/electrify.html">Electrify</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    
      <ul><li>
    

    <a href="/docs/electrode_explorer.html">Electrode Explorer</a>

    
      </li></ul>
    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/community.html">Community</a>

    
    </li>
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  


          </ul>
        
      
    </div>
  
    <div class="nav-docs-section">
      <h3>Resources</h3>
      
        <ul>
          


  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  

  
  
  
  
    <li>
    

    <a href="/docs/faq.html">FAQs</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/glossary.html">Glossary</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/further_reading.html">Further Reading</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/build_with_us.html">Build With Us</a>

    
    </li>
  

  
  
  
  
    <li>
    

    <a href="/docs/preview.html">Preview</a>

    
    </li>
  


        </ul>
      
    </div>
  


  <!-- Tips Nav -->
  
    <div class="nav-docs-section">
      <h3>Tips</h3>
      <ul>
        
          <li>
            <a href="/tips/introduction.html">Introduction</a>
          </li>
        
      </ul>
    </div>
  

  <!-- Contributing Nav -->
  
    <div class="nav-docs-section">
      <h3>Contributing</h3>
      <ul>
        
          <li>
            <a href="/contributing/design-principles.html">Design Principles</a>
          </li>
        
      </ul>
    </div>
  
</div>


  <div class="inner-content">
    <a class="edit-page-link" href="https://github.com/electrode-io/electrode-io.github.io/tree/develop/_docs/04.1.2-above_fold_rendering.markdown" target="_blank">Edit on GitHub</a>
    <h1>
      Above The Fold Rendering
    </h1>
    <div class="subHeader"></div>

    <p>The <a href="https://github.com/electrode-io/above-the-fold-only-server-render">above-the-fold-rendering-module</a> is a React component for optionally skipping server side rendering of components outside above-the-fold (or outside of the viewport). This component helps render your components on the server that are above the fold and the remaining components on the client. We will demonstrate how to use this module in Electrode, Express, or Hapi applications.</p>
<h3><a class="anchor" name="why-do-we-need-this-module"></a>Why do we need this module? <a class="hash-link" href="#why-do-we-need-this-module">#</a></h3>
<p><a href="https://github.com/electrode-io/above-the-fold-only-server-render">Above-the-fold-only-server-render</a> helps increase performance both by decreasing the load on renderToString and sending the end user a smaller amount of markup.</p>

<p>The table below outlines a clear performance increase in the example app by skipping server rendering of the <a href="walmart.com">Walmart.com</a> <code>Footer</code> component and several other below the fold zones:</p>

<p>Footer Component Performance Table</p>

<p><img src="/img/above-the-fold-table.png" alt="above-the-fold-table"></p>
<h2><a class="anchor" name="module-electrode-above-the-fold-render"></a>Module: <a href="https://github.com/electrode-io/electrode-above-the-fold-render">electrode-above-the-fold-render</a> <a class="hash-link" href="#module-electrode-above-the-fold-render">#</a></h2><h3><a class="anchor" name="install-via-npm"></a>Install via <code>npm</code> <a class="hash-link" href="#install-via-npm">#</a></h3><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm install --save electrode-above-the-fold-render
</code></pre></div><h3><a class="anchor" name="example-applications"></a>Example Applications <a class="hash-link" href="#example-applications">#</a></h3>
<ul>
<li><p><a href="https://github.com/electrode-io/electrode-boilerplate-universal-react-node">Electrode</a></p></li>
<li><p><a href="https://github.com/electrode-io/express-example-with-standalone-electrode-modules">Express</a></p></li>
<li><p><a href="https://github.com/electrode-io/hapijs-example-with-standalone-electrode-modules">Hapi</a></p></li>
</ul>
<h2><a class="anchor" name="usage"></a>Usage <a class="hash-link" href="#usage">#</a></h2>
<p>By default, the <a href="https://github.com/electrode-io/above-the-fold-only-server-render">above-the-fold-only-server-render</a> component is an exercise in simplicity; it does nothing and only returns the child component.</p>

<p>You can tell the component to skip server side rendering either by passing a <code>skip={true}</code> prop or by setting up <code>skipServerRender</code> in your app context and passing the component a <code>contextKey</code> prop.</p>

<p>You can skip server side rendering by passing a <code>skip prop</code>:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">SomeComponent</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">AboveTheFoldOnlyServerRender</span> <span class="nx">skip</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">will</span> <span class="nx">not</span> <span class="nx">be</span> <span class="nx">server</span> <span class="nx">side</span> <span class="nx">rendered</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="o">&lt;</span><span class="err">/AboveTheFoldOnlyServerRender&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<p>You can also skip server side rendering by <code>setting context in your app and passing a contextKey prop</code>:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">SomeComponent</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">AboveTheFoldOnlyServerRender</span> <span class="nx">contextKey</span><span class="o">=</span><span class="s2">&quot;aboveTheFoldOnlyServerRender.SomeComponent&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">will</span> <span class="nx">not</span> <span class="nx">be</span> <span class="nx">server</span> <span class="nx">side</span> <span class="nx">rendered</span> <span class="nx">based</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">context</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
      <span class="o">&lt;</span><span class="err">/AboveTheFoldOnlyServerRender&gt;</span>
    <span class="p">);</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">SomeApp</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">getChildContext</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">aboveTheFoldOnlyServerRender</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">SomeComponent</span><span class="o">:</span> <span class="kc">true</span>
      <span class="p">}</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">SomeComponent</span> <span class="o">/&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">SomeApp</span><span class="p">.</span><span class="nx">childContextTypes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">aboveTheFoldOnlyServerRender</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">shape</span><span class="p">({</span>
    <span class="nx">AnotherComponent</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">bool</span>
  <span class="p">})</span>
<span class="p">};</span>
</code></pre></div><h2><a class="anchor" name="platforms"></a>Platforms <a class="hash-link" href="#platforms">#</a></h2>
<p>This module can be used with either <a href="#electrode">Electrode</a>, <a href="#express">Express</a>, or <a href="#hapi">Hapi</a>.</p>


    








<div class="docs-prevnext">
  
    <a class="docs-prev" href="/docs/confippet.html">&larr; Prev</a>
  
  
    <a class="docs-next" href="/docs/server_side_render_cache.html">Next &rarr;</a>
  
</div>


  </div>
</section>


    <footer class="wrap">
      <div class="left">
        <a href="https://github.com/orgs/electrode-io/people" target="_blank">Acknowledgements</a>
      </div>
      <div class="right">
        &copy; 2016 <a href="http://walmartlabs.com" target="_blank">WalmartLabs</a><br>
        TODO: license.
      </div>
    </footer>
  </div>
  <div id="fb-root"></div>

  <!--
    TODO: analytics js, etc.
  -->
</body>
</html>
